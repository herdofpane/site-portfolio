import{r as c,j as h}from"./jsx-runtime-DexIYAB0.js";import{c as v,u as M}from"./heading-DW_Vg015.js";import{u as R}from"./use-spring-ChwznKHD.js";const V="_hidden_u59mf_3",G={hidden:V},N=c.forwardRef(({className:e,showOnFocus:t,as:s="span",children:r,visible:a,...n},u)=>h.jsx(s,{className:v(G.hidden,e),"data-hidden":!a&&!t,"data-show-on-focus":t,ref:u,...n,children:r}));async function T(e){return new Promise(t=>setTimeout(t,e))}const w="_text_81hf5_3",E="_glyph_81hf5_17",S="_value_81hf5_31",d={text:w,glyph:E,value:S},_=["ア","イ","ウ","エ","オ","カ","キ","ク","ケ","コ","サ","シ","ス","セ","ソ","タ","チ","ツ","テ","ト","ナ","ニ","ヌ","ネ","ノ","ハ","ヒ","フ","ヘ","ホ","マ","ミ","ム","メ","モ","ヤ","ユ","ヨ","ー","ラ","リ","ル","レ","ロ","ワ","ヰ","ヱ","ヲ","ン","ガ","ギ","グ","ゲ","ゴ","ザ","ジ","ズ","ゼ","ゾ","ダ","ヂ","ヅ","デ","ド","バ","ビ","ブ","ベ","ボ","パ","ピ","プ","ペ","ポ"],o={Glyph:"glyph",Value:"value"};function $(e,t,s){return e.map((r,a)=>{if(a<s)return{type:o.Value,value:r};if(s%1<.5){const n=Math.floor(Math.random()*_.length);return{type:o.Glyph,value:_[n]}}return{type:o.Glyph,value:t[a].value}})}const L=c.memo(({text:e,start:t=!0,delay:s=0,className:r,...a})=>{const n=c.useRef([{type:o.Glyph,value:""}]),u=c.useRef(),f=M(),y=R(0,{stiffness:8,damping:5});return c.useEffect(()=>{const x=u.current,l=e.split("");let j;const g=()=>{const p=n.current.map(i=>`<span class="${d[i.type]}">${i.value}</span>`);x.innerHTML=p.join("")},m=y.on("change",p=>{n.current=$(l,n.current,p),g()});return t&&!j&&!f&&(async()=>{await T(s),y.set(l.length)})(),f&&(n.current=l.map((p,i)=>({type:o.Value,value:l[i]})),g()),()=>{m==null||m()}},[y,f,t,s,e]),h.jsxs("span",{className:v(d.text,r),...a,children:[h.jsx(N,{className:d.label,children:e}),h.jsx("span",{"aria-hidden":!0,className:d.content,ref:u})]})});export{L as D,N as V};
